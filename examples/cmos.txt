%{
// build instructions
// flex cmos.l
// g++ -o cmos lex.yy.x
// ./cmos < data_file.txt
// ****************************************************************************************


#include <iostream>
using namespace std;

// Define any necessary functions or variables here
%}

// Defining token types
%token INTEGER_LITERAL
%token IDENTIFIER
%token OPERATOR
%token KEYWORD
%token PUNCTUATION
%token FLOAT_LITERAL

// Define rules for ignnoring whitespace and comments
WS      [ \t\n]+
COMMENT "//".*
MULTICOMMENT "/\*"([^*]|\*+[^*/])*\*+\/"

//keyword rules
IF  "if"
ELSE  "else"
FOR   "for"
WHILE   "while"


//operator rules
EQUAL   "="
PLUS    "+"
MINUS   "-"
MULTIPLY  "*"
DIVIDE  "/"

//puncuation rules
SEMICOLON   ";"
PERIOD    "."
COMMA   ","

// identifiers and literals
DIGIT       [0-9]
LETTER      [a-zA-Z]
INT_LITERAL {DIGIT}+
FLOAT_LITERAL   {DIGIT}+"."{DIGIT}+
ID          {LETTER}({LETTER}|{DIGIT})*

//matching tokens

%%
{WS}        { /* Ignore whitespace */ }
{COMMENT}   { /* Ignore comments */ }
{MULTICOMMENT}  {/* Ignore Multi Line Comments */}

[a-zA-Z_][a-zA-Z0-9_]*[ \t]+[a-zA-Z_][a-zA-Z0-9_]*[ \t]*\([^)]*\)[ \t]*\{
    { cout << "FUNCTION: " << yytext << endl; }

.|\n  ; //ignore everything else



%%

int main() {
  yylex(); //runs lexer
  return 0;
}